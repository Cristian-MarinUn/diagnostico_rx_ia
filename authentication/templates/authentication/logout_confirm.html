<!-- ================================ -->
<!-- ARCHIVO: authentication/templates/authentication/logout.html -->
<!-- ================================ -->
{% extends 'core/base.html' %}

{% block title %}Cerrar Sesi贸n - Diagn贸stico IA{% endblock %}

{% block extra_css %}
{% load static %}
<link rel="stylesheet" href="{% static 'authentication/css/logout.css' %}">
{% endblock %}

{% block content %}
<div class="logout-container">
    <div class="logout-card">
        <div class="logout-icon"></div>
        
        <h1 class="logout-title">驴Deseas cerrar sesi贸n?</h1>
        
        <p class="logout-message">
            Est谩s a punto de cerrar tu sesi贸n. Deber谩s iniciar sesi贸n nuevamente para acceder al sistema.
        </p>
        
        <div class="user-info">
            <p>
                Usuario: <strong>{{ user.get_full_name }}</strong><br>
                Rol: <strong>{{ user.get_rol_display }}</strong>
            </p>
        </div>
        
        <div class="logout-actions">
            <form method="post" action="{% url 'authentication:logout' %}">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger">
                    S铆, cerrar sesi贸n
                </button>
            </form>
            
            <form method="post" action="{% url 'authentication:logout_cancel' %}">
                {% csrf_token %}
                <button type="submit" class="btn btn-secondary">
                    Cancelar
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Script opcional para a帽adir confirmaci贸n adicional
document.addEventListener('DOMContentLoaded', function() {
    const logoutForm = document.querySelector('form[action*="logout"]');
    
    if (logoutForm) {
        const logoutBtn = logoutForm.querySelector('.btn-danger');
        
        logoutForm.addEventListener('submit', function(e) {
            // A帽adir clase de loading
            logoutBtn.classList.add('loading');
            logoutBtn.disabled = true;
        });
    }
    
    // Animaci贸n de entrada para los elementos
    const elements = document.querySelectorAll('.logout-icon, .logout-title, .logout-message, .user-info, .logout-actions');
    elements.forEach((element, index) => {
        element.style.opacity = '0';
        element.style.transform = 'translateY(20px)';
        setTimeout(() => {
            element.style.transition = 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
            element.style.opacity = '1';
            element.style.transform = 'translateY(0)';
        }, 100 * index);
    });
});
</script>
{% endblock %}